"use strict";(self.webpackChunktaskflowhq_project_management=self.webpackChunktaskflowhq_project_management||[]).push([[353],{5924(e,t,r){r.r(t),r.d(t,{default:()=>o});var a=r(9379),l=r(9950);const n="64px",i={};var o=e=>{let{src:t,light:r,oEmbedUrl:o,onClickPreview:s,playIcon:c,previewTabIndex:d,previewAriaLabel:p}=e;const[u,h]=(0,l.useState)(null);(0,l.useEffect)(()=>{t&&r&&o&&b({src:t,light:r,oEmbedUrl:o})},[t,r,o]);const b=async e=>{let{src:t,light:r,oEmbedUrl:a}=e;if(l.isValidElement(r))return;if("string"===typeof r)return void h(r);if(i[t])return void h(i[t]);h(null);const n=await fetch(a.replace("{url}",t)),o=await n.json();if(o.thumbnail_url){const e=o.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");h(e),i[t]=e}},g=l.isValidElement(r),m={display:"flex",alignItems:"center",justifyContent:"center"},w={preview:(0,a.A)({width:"100%",height:"100%",backgroundImage:u&&!g?"url(".concat(u,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},m),shadow:(0,a.A)({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:n,width:n,height:n,position:g?"absolute":void 0},m),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},y=l.createElement("div",{style:w.shadow,className:"react-player__shadow"},l.createElement("div",{style:w.playIcon,className:"react-player__play-icon"}));return l.createElement("div",(0,a.A)({style:w.preview,className:"react-player__preview",tabIndex:d,onClick:e=>{null==s||s(e)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||null==s||s(e)}},p?{"aria-label":p}:{}),g?r:null,c||y)}}}]);